<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¾®ä¿¡å…¬ä¼—å· Markdown æ¸²æŸ“ç»„ä»¶ UI åŸå‹</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Merriweather:wght@300;400;700&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
    <!-- Marked.js (é”å®šç‰ˆæœ¬ä»¥æ”¯æŒ highlight é€‰é¡¹) -->
    <script src="https://cdn.jsdelivr.net/npm/marked@4.3.0/marked.min.js"></script>
    <!-- Highlight.js -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>

    <style>
        /* ------------------- æ ¸å¿ƒæ ·å¼ä¸åŠ¨ç”» ------------------- */
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background: #f3f4f6;
            background-image: 
                radial-gradient(at 0% 0%, rgba(59, 130, 246, 0.1) 0px, transparent 50%),
                radial-gradient(at 100% 0%, rgba(139, 92, 246, 0.1) 0px, transparent 50%),
                radial-gradient(at 100% 100%, rgba(236, 72, 153, 0.1) 0px, transparent 50%),
                radial-gradient(at 0% 100%, rgba(34, 197, 94, 0.1) 0px, transparent 50%);
            background-attachment: fixed;
        }

        /* ç»ç’ƒæ‹Ÿæ€ Toolbar */
        .glass-toolbar {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.05);
        }

        /* ------------------- ä¸»é¢˜å®šä¹‰ (CSS Variables) ------------------- */
        
        /* 1. æè‡´ç®€çº¦ (Minimalist) */
        .theme-minimalist {
            --bg-color: #ffffff;
            --text-color: #37352f;
            --heading-color: #111111;
            --accent-color: #333333;
            --link-color: #37352f;
            --quote-bg: transparent;
            --quote-border: #333333;
            --font-body: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;
            --font-heading: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;
            --heading-decoration: none;
            --list-bullet-color: #333333;
        }

        /* 2. ç§‘æŠ€è“è°ƒ (Tech Blue) */
        .theme-tech {
            --bg-color: #f8fafc;
            --text-color: #334155;
            --heading-color: #0f172a;
            --accent-color: #3b82f6; /* Tailwind Blue 500 */
            --link-color: #2563eb;
            --quote-bg: #eff6ff;
            --quote-border: #3b82f6;
            --font-body: 'Inter', system-ui, sans-serif;
            --font-heading: 'Inter', system-ui, sans-serif;
            --heading-decoration: left-border;
            --list-bullet-color: #3b82f6;
        }

        /* 3. ä¼˜é›…å®‹é£ (Elegant Serif) */
        .theme-serif {
            --bg-color: #fdfbf7; /* æš–çº¸è‰² */
            --text-color: #433422;
            --heading-color: #2c2216;
            --accent-color: #8c4b26;
            --link-color: #8c4b26;
            --quote-bg: #f4f1ea;
            --quote-border: #8c4b26;
            --font-body: "Songti SC", "Noto Serif SC", serif;
            --font-heading: "Songti SC", "Noto Serif SC", serif;
            --heading-decoration: bottom-border;
            --list-bullet-color: #8c4b26;
        }

        /* 4. æ£®ç³»å¢¨ç»¿ (Forest Green) */
        .theme-forest {
            --bg-color: #f2fcf5;
            --text-color: #2e4a3d;
            --heading-color: #134e38;
            --accent-color: #2d8a5e;
            --link-color: #2d8a5e;
            --quote-bg: #e1f5ea;
            --quote-border: #2d8a5e;
            --font-body: 'Inter', sans-serif;
            --font-heading: 'Inter', sans-serif;
            --heading-decoration: left-border;
            --list-bullet-color: #2d8a5e;
        }

        /* 5. æ´»åŠ›çƒ­çº¢ (Vibrant Red) */
        .theme-red {
            --bg-color: #ffffff;
            --text-color: #2d1b21;
            --heading-color: #be123c; /* Rose 700 */
            --accent-color: #e11d48; /* Rose 600 */
            --link-color: #e11d48;
            --quote-bg: #fff1f2;
            --quote-border: #e11d48;
            --font-body: 'Inter', sans-serif;
            --font-heading: 'Inter', sans-serif;
            --heading-decoration: left-border;
            --list-bullet-color: #e11d48;
        }

        /* ------------------- é¢„è§ˆåŒºæ ·å¼å®ç° ------------------- */
        #preview-content {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: var(--font-body);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Typography */
        #preview-content h1, 
        #preview-content h2, 
        #preview-content h3 {
            color: var(--heading-color);
            font-family: var(--font-heading);
            margin-top: 1.5em;
            margin-bottom: 0.8em;
            font-weight: 700;
            line-height: 1.4;
        }

        #preview-content h1 { font-size: 1.6em; border-bottom: 1px solid rgba(0,0,0,0.1); padding-bottom: 0.3em; }
        #preview-content h2 { 
            font-size: 1.4em; 
            border-left: 4px solid var(--accent-color);
            padding-left: 0.5em;
        }
        #preview-content h3 { font-size: 1.2em; }

        /* ç‰¹æ®Šä¸»é¢˜è£…é¥°å·²ç»Ÿä¸€åˆ°é€šç”¨æ ·å¼ä¸­ */

        #preview-content p {
            margin-bottom: 1.2em;
            line-height: 1.75;
            text-align: justify;
        }

        #preview-content a {
            color: var(--link-color);
            text-decoration: none;
            border-bottom: 1px dashed var(--link-color);
        }
        #preview-content a:hover {
            opacity: 0.8;
        }

        #preview-content blockquote {
            background: var(--quote-bg);
            border-left: 4px solid var(--quote-border);
            padding: 1em;
            margin: 1.5em 0;
            color: var(--text-color);
            border-radius: 4px;
        }

        #preview-content ul, #preview-content ol {
            padding-left: 1.5em;
            margin-bottom: 1.5em;
        }
        #preview-content li {
            margin-bottom: 0.5em;
            line-height: 1.7;
        }
        #preview-content li::marker {
            color: var(--list-bullet-color);
            font-weight: bold;
        }

        /* Mac é£æ ¼ä»£ç å— */
        #preview-content pre {
            background: #1e1e1e !important; /* å¼ºåˆ¶æ·±è‰²èƒŒæ™¯é€‚é… github-dark */
            color: #c9d1d9; /* å¼ºåˆ¶æµ…è‰²æ–‡å­—ï¼Œé˜²æ­¢é«˜äº®å¤±æ•ˆæ—¶çœ‹ä¸æ¸… */
            border-radius: 8px;
            padding-top: 40px; /* Header height */
            padding-bottom: 15px;
            padding-left: 15px;
            padding-right: 15px;
            margin: 1.5em 0;
            position: relative;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        }

        /* Mac Window Controls */
        #preview-content pre::before {
            content: '';
            position: absolute;
            top: 15px;
            left: 15px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #ff5f56; /* Red */
            box-shadow: 
                20px 0 0 #ffbd2e, /* Yellow */
                40px 0 0 #27c93f; /* Green */
            z-index: 10;
        }
        
        /* Optional Header Bar */
        #preview-content pre::after {
            content: 'terminal'; /* å¯é€‰ï¼šæ˜¾ç¤ºæ–‡ä»¶åæˆ– terminal */
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 38px;
            background: rgba(255,255,255,0.05);
            border-bottom: 1px solid rgba(255,255,255,0.1);
            color: rgba(255,255,255,0.4);
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: sans-serif;
        }

        #preview-content code {
            font-family: 'Fira Code', monospace;
            font-size: 14px;
            line-height: 1.5;
        }
        
        /* Inline code */
        #preview-content p code, 
        #preview-content li code {
            background: rgba(0,0,0,0.06);
            color: #d63384;
            padding: 0.2em 0.4em;
            border-radius: 3px;
            font-size: 0.9em;
            font-family: 'Fira Code', monospace;
        }
        .theme-dark p code, .theme-dark li code {
            background: rgba(255,255,255,0.15);
            color: #ff79c6;
        }

        /* ------------------- è§†å›¾æ¨¡å¼åˆ‡æ¢ ------------------- */
        .view-mobile {
            width: 375px;
            min-height: 812px;
            border-radius: 40px;
            border: 12px solid #1a1a1a;
            padding: 20px;
            margin-top: 20px;
            margin-bottom: 40px;
        }
        
        .view-desktop {
            width: 100%;
            max-width: 800px;
            min-height: 800px;
            border-radius: 8px;
            border: 1px solid rgba(0,0,0,0.05);
            padding: 40px;
            margin-top: 20px;
            margin-bottom: 40px;
        }

        /* æ‰‹æœºæ¨¡å¼ä¸‹çš„åˆ˜æµ·æ¨¡æ‹Ÿ (ä»…è£…é¥°) */
        .view-mobile::after {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 150px;
            height: 25px;
            background: #1a1a1a;
            border-bottom-left-radius: 16px;
            border-bottom-right-radius: 16px;
            z-index: 50;
            pointer-events: none;
            display: none; /* é»˜è®¤éšè—ï¼ŒJS æ§åˆ¶ */
        }
        .view-mobile.has-notch::after {
            display: block;
        }

        /* Dropdown transition */
        .dropdown-menu {
            transform-origin: top;
            transition: all 0.2s ease-out;
            transform: scaleY(0);
            opacity: 0;
        }
        .group:hover .dropdown-menu {
            transform: scaleY(1);
            opacity: 1;
        }

    </style>
</head>
<body class="flex flex-col items-center min-h-screen">

    <!-- é¡¶éƒ¨è®¾ç½®åŒºåŸŸ (Toolbar) -->
    <div class="fixed top-6 z-[100] glass-toolbar rounded-full px-2 py-2 flex items-center space-x-2 transition-all duration-300 hover:shadow-lg">
        
        <!-- ä¸»é¢˜åˆ‡æ¢ Dropdown -->
        <div class="relative group">
            <button class="flex items-center space-x-2 bg-white/50 hover:bg-white/80 text-gray-700 px-4 py-2 rounded-full transition-colors cursor-pointer outline-none">
                <span class="text-xl">ğŸŒˆ</span>
                <span id="current-theme-label" class="font-medium text-sm">æè‡´ç®€çº¦</span>
                <i class="fas fa-chevron-down text-xs text-gray-400"></i>
            </button>
            
            <!-- Dropdown List -->
            <div class="absolute top-full left-0 mt-2 w-48 bg-white rounded-xl shadow-xl border border-gray-100 overflow-hidden dropdown-menu flex flex-col">
                <button onclick="setTheme('minimalist', 'æè‡´ç®€çº¦')" class="text-left px-4 py-3 hover:bg-gray-50 text-sm font-medium text-gray-700 flex items-center">
                    <span class="w-4 h-4 rounded-full bg-gray-200 mr-2"></span> æè‡´ç®€çº¦
                </button>
                <button onclick="setTheme('tech', 'ç§‘æŠ€è“è°ƒ')" class="text-left px-4 py-3 hover:bg-blue-50 text-sm font-medium text-blue-700 flex items-center">
                    <span class="w-4 h-4 rounded-full bg-blue-500 mr-2"></span> ç§‘æŠ€è“è°ƒ
                </button>
                <button onclick="setTheme('serif', 'ä¼˜é›…å®‹é£')" class="text-left px-4 py-3 hover:bg-orange-50 text-sm font-medium text-orange-800 flex items-center">
                    <span class="w-4 h-4 rounded-full bg-orange-200 mr-2"></span> ä¼˜é›…å®‹é£
                </button>
                <button onclick="setTheme('forest', 'æ£®ç³»å¢¨ç»¿')" class="text-left px-4 py-3 hover:bg-green-50 text-sm font-medium text-green-800 flex items-center">
                    <span class="w-4 h-4 rounded-full bg-green-600 mr-2"></span> æ£®ç³»å¢¨ç»¿
                </button>
                <button onclick="setTheme('red', 'æ´»åŠ›çƒ­çº¢')" class="text-left px-4 py-3 hover:bg-red-50 text-sm font-medium text-red-600 flex items-center">
                    <span class="w-4 h-4 rounded-full bg-red-500 mr-2"></span> æ´»åŠ›çƒ­çº¢
                </button>
            </div>
        </div>

        <div class="w-px h-6 bg-gray-300 mx-2"></div>

        <!-- è§†å›¾åˆ‡æ¢ -->
        <button onclick="toggleView()" id="view-btn" class="w-10 h-10 flex items-center justify-center rounded-full bg-white/50 hover:bg-blue-100 text-gray-600 hover:text-blue-600 transition-colors" title="åˆ‡æ¢è§†å›¾">
            <i class="fas fa-mobile-alt text-lg"></i>
        </button>

        <!-- å¤åˆ¶æŒ‰é’® -->
        <button onclick="copyToClipboard()" class="w-10 h-10 flex items-center justify-center rounded-full bg-green-500 hover:bg-green-600 text-white shadow-md hover:shadow-lg transition-all transform hover:scale-105" title="å¤åˆ¶åˆ°å…¬ä¼—å·">
            <i class="fas fa-clipboard"></i>
        </button>

    </div>

    <!-- é¢„è§ˆåŒºåŸŸå®¹å™¨ -->
    <div class="mt-28 w-full flex justify-center px-4 pb-20 overflow-x-hidden">
        
        <!-- è®¾å¤‡å¤–å£³ -->
        <div id="device-frame" class="view-mobile theme-classic relative shadow-2xl transition-all duration-500 bg-white">
            
            <!-- å†…å®¹åŒºåŸŸ -->
            <div id="preview-content" class="h-full w-full overflow-y-auto no-scrollbar">
                <!-- Content will be injected by JS -->
            </div>

        </div>

    </div>

    <!-- Toast Notification -->
    <div id="toast" class="fixed bottom-10 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white px-6 py-3 rounded-full shadow-lg opacity-0 transition-opacity duration-300 pointer-events-none z-50 flex items-center">
        <i class="fas fa-check-circle text-green-400 mr-2"></i>
        <span>å·²å¤åˆ¶ï¼Œå¯ç›´æ¥ç²˜è´´åˆ°å…¬ä¼—å·åå°ï¼</span>
    </div>

    <script>
        /* 1. åˆå§‹åŒ– Markdown å†…å®¹ */
        const initialMarkdown = `
# å¾®ä¿¡å…¬ä¼—å·æ’ç‰ˆç»„ä»¶

ä½ å¥½ï¼è¿™æ˜¯ä¸€ä¸ªä¸“ä¸º **å¾®ä¿¡å…¬ä¼—å·** è®¾è®¡çš„ Markdown æ¸²æŸ“ç»„ä»¶é¢„è§ˆã€‚

> æ‰€æœ‰çš„ä¼Ÿå¤§ï¼Œéƒ½æºäºä¸€ä¸ªå‹‡æ•¢çš„å¼€å§‹ã€‚
> All greatness comes from a brave beginning.

## 1. æ ¸å¿ƒåŠŸèƒ½

æˆ‘ä»¬è‡´åŠ›äºæä¾›æœ€ä¼˜é›…çš„å†™ä½œä½“éªŒï¼š

- **å¤šä¸»é¢˜æ”¯æŒ**ï¼šå†…ç½® 5 æ¬¾ç²¾é€‰ä¸»é¢˜
- **ä»£ç é«˜äº®**ï¼šMac é£æ ¼çª—å£ + GitHub Dark é…è‰²
- **ä¸€é”®å¤åˆ¶**ï¼šå®Œç¾å…¼å®¹å…¬ä¼—å·åå°
- **å“åº”å¼é¢„è§ˆ**ï¼šæ‰‹æœº/æ¡Œé¢åŒè§†å›¾åˆ‡æ¢

## 2. ä»£ç æ¼”ç¤º

ä¸‹é¢æ˜¯ä¸€æ®µ React ä»£ç ï¼Œå±•ç¤ºäº†ç»„ä»¶çš„è°ƒç”¨æ–¹å¼ï¼š

\`\`\`tsx
import { MdWxRenderer } from 'md-wx-renderer';

const App = () => {
  return (
    <MdWxRenderer 
      content="# Hello World" 
      theme="tech-blue"
      enableToolbar={true}
    />
  );
};
export default App;
\`\`\`

## 3. æ ·å¼å±•ç¤º

### 3.1 æœ‰åºåˆ—è¡¨
1. ç¬¬ä¸€æ­¥ï¼šæ’°å†™ Markdown
2. ç¬¬äºŒæ­¥ï¼šé€‰æ‹©å¿ƒä»ªçš„ä¸»é¢˜
3. ç¬¬ä¸‰æ­¥ï¼šç‚¹å‡»å¤åˆ¶æŒ‰é’®

### 3.2 é“¾æ¥é£æ ¼
è®¿é—® [GitHub ä»“åº“](https://github.com) äº†è§£æ›´å¤šè¯¦æƒ…ã€‚

### 3.3 å¼ºè°ƒæ–‡æœ¬
æ”¯æŒ *æ–œä½“*ã€**åŠ ç²—** ä»¥åŠ \`å†…è”ä»£ç \` çš„æ ·å¼ä¼˜åŒ–ã€‚

---

*Made with â¤ï¸ by Trae AI*
        `;

        // 2. æ¸²æŸ“é€»è¾‘
        const previewContent = document.getElementById('preview-content');
        
        function renderMarkdown() {
            // é…ç½® marked
            marked.setOptions({
                highlight: function(code, lang) {
                    const language = hljs.getLanguage(lang) ? lang : 'plaintext';
                    return hljs.highlight(code, { language }).value;
                },
                langPrefix: 'hljs language-'
            });

            // æ¸²æŸ“ HTML
            previewContent.innerHTML = marked.parse(initialMarkdown);
        }

        // 3. ä¸»é¢˜åˆ‡æ¢
        const deviceFrame = document.getElementById('device-frame');
        const themeLabel = document.getElementById('current-theme-label');

        function setTheme(themeClass, themeName) {
            // ç§»é™¤æ‰€æœ‰ theme- å¼€å¤´çš„ class
            deviceFrame.classList.forEach(cls => {
                if (cls.startsWith('theme-')) {
                    deviceFrame.classList.remove(cls);
                }
            });
            // æ·»åŠ æ–° theme
            deviceFrame.classList.add(`theme-${themeClass}`);
            // æ›´æ–° label
            themeLabel.textContent = themeName;
        }

        // 4. è§†å›¾åˆ‡æ¢
        let isMobile = true;
        const viewBtn = document.getElementById('view-btn');

        function toggleView() {
            isMobile = !isMobile;
            
            if (isMobile) {
                deviceFrame.classList.remove('view-desktop');
                deviceFrame.classList.add('view-mobile');
                deviceFrame.classList.add('has-notch'); // åªæœ‰æ‰‹æœºæ¨¡å¼å¯èƒ½æœ‰åˆ˜æµ·
                viewBtn.innerHTML = '<i class="fas fa-mobile-alt text-lg"></i>';
            } else {
                deviceFrame.classList.remove('view-mobile');
                deviceFrame.classList.remove('has-notch');
                deviceFrame.classList.add('view-desktop');
                viewBtn.innerHTML = '<i class="fas fa-desktop text-lg"></i>';
            }
        }

        // 5. å¤åˆ¶æ¨¡æ‹Ÿ
        function copyToClipboard() {
            const toast = document.getElementById('toast');
            
            // æ¨¡æ‹Ÿå¤åˆ¶åŠ¨ä½œ
            // å®é™…é¡¹ç›®ä¸­ä¼šè°ƒç”¨ Clipboard API å’Œ Juice è¿›è¡Œå†…è”å¤„ç†
            
            // Show Toast
            toast.classList.remove('opacity-0');
            setTimeout(() => {
                toast.classList.add('opacity-0');
            }, 2000);
        }

        // åˆå§‹åŒ–
        window.onload = () => {
            renderMarkdown();
            // é»˜è®¤æ‰‹æœºè§†å›¾
            deviceFrame.classList.add('has-notch');
            // è®¾ç½®é»˜è®¤ä¸»é¢˜
            setTheme('minimalist', 'æè‡´ç®€çº¦');
        };

    </script>
</body>
</html>